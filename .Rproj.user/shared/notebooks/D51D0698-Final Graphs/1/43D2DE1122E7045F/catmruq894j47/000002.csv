"0",""
"0","Cutoff <- as.list(c(yearmonth(floor_date(ymd(""2016-05-01""), ""month"")),"
"0","            yearmonth(floor_date(ymd(""2016-11-01""), ""month"")),"
"0","            yearmonth(floor_date(ymd(""2017-05-01""), ""month"")),"
"0","            yearmonth(floor_date(ymd(""2017-11-01""), ""month"")),"
"0","            yearmonth(floor_date(ymd(""2018-05-01""), ""month"")),"
"0","            yearmonth(floor_date(ymd(""2018-11-01""), ""month"")),"
"0","            yearmonth(floor_date(ymd(""2019-05-01""), ""month"")),"
"0","            yearmonth(floor_date(ymd(""2019-11-01""), ""month"")),"
"0","            yearmonth(floor_date(ymd(""2020-05-01""), ""month"")),"
"0","            yearmonth(floor_date(ymd(""2020-11-01""), ""month"")),"
"0","            yearmonth(floor_date(ymd(""2021-05-01""), ""month""))))"
"0",""
"0","senate_map<-senate_map%>%"
"0","  mutate(`Percent of Non-Affiliated`=Nonaffiliated/District_Total)%>%"
"0","  st_as_sf()"
"0",""
"0","mapping<-senate_map%>%"
"0","   filter(Date==yearmonth(floor_date(ymd(""2016-05-01""), ""month"")) |"
"0","          Date==yearmonth(floor_date(ymd(""2016-11-01""), ""month"")) |"
"0","          Date==yearmonth(floor_date(ymd(""2017-05-01""), ""month"")) |"
"0","          Date==yearmonth(floor_date(ymd(""2017-11-01""), ""month"")) |"
"0","          Date==yearmonth(floor_date(ymd(""2018-05-01""), ""month"")) |"
"0","          Date==yearmonth(floor_date(ymd(""2018-11-01""), ""month"")) |"
"0","          Date==yearmonth(floor_date(ymd(""2019-05-01""), ""month"")) |"
"0","          Date==yearmonth(floor_date(ymd(""2019-11-01""), ""month"")) | "
"0","          Date==yearmonth(floor_date(ymd(""2020-05-01""), ""month"")) | "
"0","          Date==yearmonth(floor_date(ymd(""2020-11-01""), ""month"")) |"
"0","          Date==yearmonth(floor_date(ymd(""2021-05-01""), ""month"")))%>%"
"0","   st_as_sf()"
"0",""
"0","map_anim=tm_shape(mapping) +"
"0","  tm_fill(col=""Percent of Non-Affiliated"") +"
"0","  tm_borders()+"
"0","  tm_layout(frame = FALSE)+"
"0","  tm_style(""col_blind"")+"
"0","  tm_facets(along = ""Date"", free.coords = FALSE)"
"0",""
"0","tmap_animation(map_anim, filename = ""map_anim.gif"", delay = 100)"
"1","Creating frames
"
"2","Note that tm_style(""col_blind"") resets all options set with tm_layout, tm_view, tm_format, or tm_legend. It is therefore recommended to place the tm_style element prior to the other tm_layout/tm_view/tm_format/tm_legend elements.
"
"1","========="
"1","========="
"1","========="
"1","========="
"1","=========="
"1","========="
"1","========="
"1","========="
"1","========="
"1","========="
"1","
Creating animation
"
"2","Inserting image 1 at 0.00s (10%)..."
"2","Inserting image 2 at 1.00s (20%)..."
"2","Inserting image 3 at 2.00s (30%)..."
"2","Inserting image 4 at 3.00s (40%)..."
"2","Inserting image 5 at 4.00s (50%)..."
"2","Inserting image 6 at 5.00s (60%)..."
"2","Inserting image 7 at 6.00s (70%)..."
"2","Inserting image 8 at 7.00s (80%)..."
"2","Inserting image 9 at 8.00s (90%)..."
"2","Inserting image 10 at 9.00s (100%)..."
"2","
Encoding to gif..."
"2"," done!
"
"1","Animation saved to"
"1"," "
"1","G:\My Drive\Documents\Willamette\Graduate\DATA 510 Capstone\map_anim.gif"
"1"," "
"1","
"
